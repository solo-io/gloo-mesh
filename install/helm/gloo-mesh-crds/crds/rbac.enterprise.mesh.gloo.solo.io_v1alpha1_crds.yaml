# Code generated by skv2. DO NOT EDIT.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  labels:
    app: gloo-mesh
    app.kubernetes.io/name: gloo-mesh
  name: roles.rbac.enterprise.mesh.gloo.solo.io
spec:
  group: rbac.enterprise.mesh.gloo.solo.io
  names:
    kind: Role
    listKind: RoleList
    plural: roles
    shortNames:
    - gmrole
    - gmroles
    singular: role
  preserveUnknownFields: false
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: |-
            A role represents a set of permissions for creating, updating, and deleting Gloo Mesh configuration.
               A role consists of a set of scopes for each policy type. The permission granularity is defined at the field level
                for TrafficPolicy and VirtualMesh and at the object level for AccessPolicy and FailoverService.
          properties:
            accessLogRecordScopes:
              description: A set of AccessLogRecord configuration permissions. Permission granularity is defined at the object level.
              items:
                properties:
                  workloadSelectors:
                    description: A list of permitted workload selectors.
                    items:
                      properties:
                        clusters:
                          description: |-
                            If specified, match k8s workloads if they exist in one of the specified clusters.
                                   When used in a networking policy, omission matches any cluster.
                                   When used in a Role, a wildcard `"*"` must be explicitly used to match any cluster.
                          items:
                            type: string
                          type: array
                        labels:
                          additionalProperties:
                            type: string
                          description: |-
                            If specified, all labels must exist on k8s workload.
                                   When used in a networking policy, omission matches any labels.
                                   When used in a Role, a wildcard `"*"` must be explicitly used to match any label key and/or value.
                          type: object
                        namespaces:
                          description: |-
                            If specified, match k8s workloads if they exist in one of the specified namespaces.
                                   When used in a networking policy, omission matches any namespace.
                                   When used in a Role, a wildcard `"*"` must be explicitly used to match any namespace.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                type: object
              type: array
            accessPolicyScopes:
              description: A set of AccessPolicy configuration permissions. Permission granularity is defined at the object level.
              items:
                properties:
                  identitySelectors:
                    description: A list of permitted identity selectors.
                    items:
                      properties:
                        kubeIdentityMatcher:
                          description: A KubeIdentityMatcher matches request identities based on the k8s namespace and cluster.
                          properties:
                            clusters:
                              description: |-
                                If specified, match k8s identity if it exists in one of the specified clusters.
                                           When used in a networking policy, omission matches any cluster.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any cluster.
                              items:
                                type: string
                              type: array
                            namespaces:
                              description: |-
                                If specified, match k8s identity if it exists in one of the specified namespaces.
                                           When used in a networking policy, omission matches any namespace.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any namespace.
                              items:
                                type: string
                              type: array
                          type: object
                        kubeServiceAccountRefs:
                          description: KubeServiceAccountRefs matches request identities based on the k8s service account of request.
                          properties:
                            serviceAccounts:
                              description: |-
                                Match k8s ServiceAccounts by direct reference.
                                           When used in a networking policy, omission of any field (name, namespace, or clusterName) allows matching any value for that field.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any value for the given field.
                              items:
                                properties:
                                  clusterName:
                                    description: name of the cluster in which the resource exists
                                    type: string
                                  name:
                                    description: name of the resource being referenced
                                    type: string
                                  namespace:
                                    description: namespace of the resource being referenced
                                    type: string
                                type: object
                              type: array
                          type: object
                      type: object
                    type: array
                  trafficTargetSelectors:
                    description: A list of permitted traffic target selectors.
                    items:
                      properties:
                        kubeServiceMatcher:
                          description: A KubeServiceMatcher matches kubernetes services by their labels, namespaces, and/or clusters.
                          properties:
                            clusters:
                              description: |-
                                If specified, match k8s Services if they exist in one of the specified clusters.
                                           When used in a networking policy, omission matches any cluster.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any cluster.
                              items:
                                type: string
                              type: array
                            labels:
                              additionalProperties:
                                type: string
                              description: |-
                                If specified, all labels must exist on k8s Service.
                                           When used in a networking policy, omission matches any labels.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any label key and/or value.
                              type: object
                            namespaces:
                              description: |-
                                If specified, match k8s Services if they exist in one of the specified namespaces.
                                           When used in a networking policy, omission matches any namespace.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any namespace.
                              items:
                                type: string
                              type: array
                          type: object
                        kubeServiceRefs:
                          description: Match individual k8s Services by direct reference.
                          properties:
                            services:
                              description: |-
                                Match k8s Services by direct reference.
                                           When used in a networking policy, omission of any field (name, namespace, or clusterName) allows matching any value for that field.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any value for the given field.
                              items:
                                properties:
                                  clusterName:
                                    description: name of the cluster in which the resource exists
                                    type: string
                                  name:
                                    description: name of the resource being referenced
                                    type: string
                                  namespace:
                                    description: namespace of the resource being referenced
                                    type: string
                                type: object
                              type: array
                          type: object
                      type: object
                    type: array
                type: object
              type: array
            failoverServiceScopes:
              description: A set of FailoverService configuration permissions. Permission granularity is defined at the object level.
              items:
                properties:
                  backingServices:
                    description: A list of permitted backing services.
                    items:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - kubeService
                      - required:
                        - kubeService
                      properties:
                        kubeService:
                          description: Name/namespace/cluster of a kubernetes service.
                          properties:
                            clusterName:
                              description: name of the cluster in which the resource exists
                              type: string
                            name:
                              description: name of the resource being referenced
                              type: string
                            namespace:
                              description: namespace of the resource being referenced
                              type: string
                          type: object
                      type: object
                    type: array
                  meshRefs:
                    description: A list of permitted mesh references.
                    items:
                      properties:
                        name:
                          description: name of the resource being referenced
                          type: string
                        namespace:
                          description: namespace of the resource being referenced
                          type: string
                      type: object
                    type: array
                type: object
              type: array
            trafficPolicyScopes:
              description: A set of TrafficPolicy configuration permissions. Permission granularity is defined at the field level.
              items:
                properties:
                  trafficPolicyActions:
                    description: A list of permitted TrafficPolicy configuration actions.
                    items:
                      enum:
                      - UNKNOWN_TRAFFIC_POLICY_ACTION
                      - ALL
                      - TRAFFIC_SHIFT
                      - FAULT_INJECTION
                      - REQUEST_TIMEOUT
                      - RETRIES
                      - CORS_POLICY
                      - MIRROR
                      - HEADER_MANIPULATION
                      - OUTLIER_DETECTION
                      - MTLS_CONFIG
                      type: string
                    type: array
                  trafficTargetSelectors:
                    description: A list of permitted traffic target selectors.
                    items:
                      properties:
                        kubeServiceMatcher:
                          description: A KubeServiceMatcher matches kubernetes services by their labels, namespaces, and/or clusters.
                          properties:
                            clusters:
                              description: |-
                                If specified, match k8s Services if they exist in one of the specified clusters.
                                           When used in a networking policy, omission matches any cluster.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any cluster.
                              items:
                                type: string
                              type: array
                            labels:
                              additionalProperties:
                                type: string
                              description: |-
                                If specified, all labels must exist on k8s Service.
                                           When used in a networking policy, omission matches any labels.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any label key and/or value.
                              type: object
                            namespaces:
                              description: |-
                                If specified, match k8s Services if they exist in one of the specified namespaces.
                                           When used in a networking policy, omission matches any namespace.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any namespace.
                              items:
                                type: string
                              type: array
                          type: object
                        kubeServiceRefs:
                          description: Match individual k8s Services by direct reference.
                          properties:
                            services:
                              description: |-
                                Match k8s Services by direct reference.
                                           When used in a networking policy, omission of any field (name, namespace, or clusterName) allows matching any value for that field.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any value for the given field.
                              items:
                                properties:
                                  clusterName:
                                    description: name of the cluster in which the resource exists
                                    type: string
                                  name:
                                    description: name of the resource being referenced
                                    type: string
                                  namespace:
                                    description: namespace of the resource being referenced
                                    type: string
                                type: object
                              type: array
                          type: object
                      type: object
                    type: array
                  workloadSelectors:
                    description: A list of permitted workload selectors.
                    items:
                      properties:
                        clusters:
                          description: |-
                            If specified, match k8s workloads if they exist in one of the specified clusters.
                                   When used in a networking policy, omission matches any cluster.
                                   When used in a Role, a wildcard `"*"` must be explicitly used to match any cluster.
                          items:
                            type: string
                          type: array
                        labels:
                          additionalProperties:
                            type: string
                          description: |-
                            If specified, all labels must exist on k8s workload.
                                   When used in a networking policy, omission matches any labels.
                                   When used in a Role, a wildcard `"*"` must be explicitly used to match any label key and/or value.
                          type: object
                        namespaces:
                          description: |-
                            If specified, match k8s workloads if they exist in one of the specified namespaces.
                                   When used in a networking policy, omission matches any namespace.
                                   When used in a Role, a wildcard `"*"` must be explicitly used to match any namespace.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                type: object
              type: array
            virtualDestinationScopes:
              description: A set of VirtualDestination configuration permissions. Permission granularity is defined at the object level.
              items:
                properties:
                  meshRefs:
                    description: A list of permitted mesh references.
                    items:
                      properties:
                        name:
                          description: name of the resource being referenced
                          type: string
                        namespace:
                          description: namespace of the resource being referenced
                          type: string
                      type: object
                    type: array
                  serviceSelectors:
                    description: A list of permitted backing service selectors.
                    items:
                      properties:
                        kubeServiceMatcher:
                          description: A KubeServiceMatcher matches kubernetes services by their labels, namespaces, and/or clusters.
                          properties:
                            clusters:
                              description: |-
                                If specified, match k8s Services if they exist in one of the specified clusters.
                                           When used in a networking policy, omission matches any cluster.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any cluster.
                              items:
                                type: string
                              type: array
                            labels:
                              additionalProperties:
                                type: string
                              description: |-
                                If specified, all labels must exist on k8s Service.
                                           When used in a networking policy, omission matches any labels.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any label key and/or value.
                              type: object
                            namespaces:
                              description: |-
                                If specified, match k8s Services if they exist in one of the specified namespaces.
                                           When used in a networking policy, omission matches any namespace.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any namespace.
                              items:
                                type: string
                              type: array
                          type: object
                        kubeServiceRefs:
                          description: Match individual k8s Services by direct reference.
                          properties:
                            services:
                              description: |-
                                Match k8s Services by direct reference.
                                           When used in a networking policy, omission of any field (name, namespace, or clusterName) allows matching any value for that field.
                                           When used in a Role, a wildcard `"*"` must be explicitly used to match any value for the given field.
                              items:
                                properties:
                                  clusterName:
                                    description: name of the cluster in which the resource exists
                                    type: string
                                  name:
                                    description: name of the resource being referenced
                                    type: string
                                  namespace:
                                    description: namespace of the resource being referenced
                                    type: string
                                type: object
                              type: array
                          type: object
                      type: object
                    type: array
                  services:
                    description: A list of permitted backing services.
                    items:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - kubeService
                      - required:
                        - kubeService
                      properties:
                        kubeService:
                          description: Name/namespace/cluster of a kubernetes service.
                          properties:
                            clusterName:
                              description: name of the cluster in which the resource exists
                              type: string
                            name:
                              description: name of the resource being referenced
                              type: string
                            namespace:
                              description: namespace of the resource being referenced
                              type: string
                          type: object
                      type: object
                    type: array
                  virtualMeshRefs:
                    description: A list of permitted virtual mesh references.
                    items:
                      properties:
                        name:
                          description: name of the resource being referenced
                          type: string
                        namespace:
                          description: namespace of the resource being referenced
                          type: string
                      type: object
                    type: array
                type: object
              type: array
            virtualMeshScopes:
              description: A set of VirtualMesh configuration permissions. Permission granularity is defined at the field level.
              items:
                properties:
                  meshRefs:
                    description: A list of permitted mesh references.
                    items:
                      properties:
                        name:
                          description: name of the resource being referenced
                          type: string
                        namespace:
                          description: namespace of the resource being referenced
                          type: string
                      type: object
                    type: array
                  virtualMeshActions:
                    description: A list of permitted VirtualMesh configuration actions.
                    items:
                      enum:
                      - UNKNOWN_VIRTUAL_MESH_ACTION
                      - ALL
                      - MTLS_CONFIG
                      - FEDERATION
                      - GLOBAL_ACCESS_POLICY
                      type: string
                    type: array
                type: object
              type: array
            wasmDeploymentScopes:
              description: A set of WasmDeployment configuration permissions. Permission granularity is defined at the object level.
              items:
                properties:
                  workloadSelectors:
                    description: A list of permitted workload selectors.
                    items:
                      properties:
                        clusters:
                          description: |-
                            If specified, match k8s workloads if they exist in one of the specified clusters.
                                   When used in a networking policy, omission matches any cluster.
                                   When used in a Role, a wildcard `"*"` must be explicitly used to match any cluster.
                          items:
                            type: string
                          type: array
                        labels:
                          additionalProperties:
                            type: string
                          description: |-
                            If specified, all labels must exist on k8s workload.
                                   When used in a networking policy, omission matches any labels.
                                   When used in a Role, a wildcard `"*"` must be explicitly used to match any label key and/or value.
                          type: object
                        namespaces:
                          description: |-
                            If specified, match k8s workloads if they exist in one of the specified namespaces.
                                   When used in a networking policy, omission matches any namespace.
                                   When used in a Role, a wildcard `"*"` must be explicitly used to match any namespace.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                type: object
              type: array
          type: object
        status:
          properties:
            observedGeneration:
              format: int64
              type: integer
          type: object
      type: object
  versions:
  - name: v1alpha1
    served: true
    storage: true

---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  labels:
    app: gloo-mesh
    app.kubernetes.io/name: gloo-mesh
  name: rolebindings.rbac.enterprise.mesh.gloo.solo.io
spec:
  group: rbac.enterprise.mesh.gloo.solo.io
  names:
    kind: RoleBinding
    listKind: RoleBindingList
    plural: rolebindings
    shortNames:
    - gmrolebinding
    - gmrolebindings
    singular: rolebinding
  preserveUnknownFields: false
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          properties:
            roleRef:
              description: reference to a Gloo Mesh Role
              properties:
                name:
                  description: name of the resource being referenced
                  type: string
                namespace:
                  description: namespace of the resource being referenced
                  type: string
              type: object
            subjects:
              description: reference to users or groups to apply the Gloo Mesh Role to
              items:
                properties:
                  apiGroup:
                    description: API group of the resource being referenced
                    nullable: true
                    type: string
                  kind:
                    description: Kind of the resource being referenced
                    nullable: true
                    type: string
                  name:
                    description: name of the resource being referenced
                    type: string
                  namespace:
                    description: namespace of the resource being referenced
                    type: string
                type: object
              type: array
          type: object
        status:
          type: object
      type: object
  versions:
  - name: v1alpha1
    served: true
    storage: true
